<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="AdminMemberMapper">
<!-- 사용자 관리 목록 -->
	<select id="List" resultType="com.gamepound.app.member.vo.MemberVo">
		SELECT
		    NO
		    , NAME
		    , EMAIL
		    , SITE_URL
		    , ENROLL_DATE
		    , UPDATE_DATE
		    , QUIT_YN
		FROM MEMBER
		<if test="no != null and no != ''">
		WHERE NAME LIKE '%' || #{name} || '%'
		</if>
	</select>
	
<!-- 사용자 관리 상세 -->
	<select id="detail" resultType="com.gamepound.app.member.vo.MemberVo">
		SELECT
			NO
			, NAME
			, EMAIL
			, INTRO
			, SITE_URL
			, ENROLL_DATE
			, QUIT_YN
		FROM MEMBER
		WHERE NO = #{no}
	</select>
	
<!-- 사용자 관리 수정 -->
	<update id="edit">
		UPDATE MEMBER
		SET
		<if test=" name != null and name != '' " >
			NAME = #{name},
		</if>
		<if test=" email != null and email != '' " >
			EMAIL = #{email},
		</if>		
		<if test=" intro != null and intro != '' " >			
			INTRO = #{intro},
		</if>			
		<if test=" siteUrl != null and siteUrl != '' " >
			SITE_URL = #{siteUrl}
		</if>			
		WHERE NO = #{no}
	</update>
	
<!-- 사용자 관리 삭제 -->
	<update id="delete">
		UPDATE MEMBER
		SET
			QUIT_YN = 'Y'
		WHERE NO = #{no}
	</update>
  
</mapper>